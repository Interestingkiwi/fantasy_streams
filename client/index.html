<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>H2H Fantasy Optimizer</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts: Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Custom Stylesheet -->
    <link rel="stylesheet" href="styles.css">
</head>
<body class="bg-gray-900 text-white flex items-center justify-center min-h-screen">

    <div class="w-full max-w-md mx-auto p-4">

        <header class="text-center mb-8">
            <h1 class="text-4xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-purple-500">H2H Fantasy Optimizer</h1>
        </header>

        <main class="bg-gray-800 border border-gray-700 rounded-lg shadow-xl p-8 space-y-6 min-h-[250px] flex flex-col justify-center">

            <!-- Login View -->
            <div id="login-view" class="space-y-6">
                <p class="text-gray-300 text-center">
                    Welcome! To access the tool, please authenticate with the Yahoo Account associated with your fantasy league.
                </p>
                <button id="login-button" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-4 rounded-lg transition duration-300 ease-in-out transform hover:scale-105 flex items-center justify-center space-x-2">
                    <!-- Yahoo Icon SVG -->
                    <svg class="w-6 h-6" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0zm.246 19.34c-1.42 0-2.67-.3-3.75-.92-.19-.11-.38-.23-.55-.35-.3-.21-.58-.45-.81-.71l-.1-.11c-.13-.15-.24-.31-.34-.48-.1-.17-.18-.34-.25-.52-.07-.18-.12-.37-.16-.56-.04-.19-.06-.39-.06-.59s.02-.39.05-.58c.03-.19.08-.37.14-.55.06-.18.14-.35.22-.52.09-.17.19-.33.3-.48.11-.15.24-.3.38-.44.14-.14.3-.27.46-.39.17-.12.35-.23.54-.33.19-.1.39-.19.6-.27.21-.08.43-.15.65-.2.23-.05.46-.09.7-.12.24-.03.48-.04.72-.04s.49.01.73.04c.24.03.47.07.7.12.22.05.44.12.65.2.21-.08.41.17.6.27.19.1.37.21.54.33.16.12.32.25.46.39.14-.14.27.29.38.44.11.15.21.31.3.48.09.17.17.34.22.52.06.18.11.36.14.55.03.19.05.39.05.58s-.02.39-.06.59c-.04-.19-.09.38-.16.56-.07.18-.15.35-.25.52-.1.17-.21.33-.34.48l-.1.11c-.23.26-.51.5-.81.71-.17.12-.36.24-.55.35-1.08.62-2.33.92-3.75.92zm-.03-2.29c.69 0 1.3-.13 1.83-.39.53-.26.96-.62 1.29-1.07.33-.45.49-.99.49-1.62s-.16-1.17-.49-1.62c-.33-.45-.76-.81-1.29-1.07-.53-.26-1.14-.39-1.83-.39s-1.3.13-1.83.39c-.53-.26-.96-.62-1.29-1.07-.33-.45-.49-.99-.49-1.62s.16-1.17.49-1.62c.33-.45.76.81 1.29 1.07.53-.26 1.14.39 1.83.39s1.3-.13 1.83-.39c.53-.26.96-.62 1.29-1.07.33-.45.49-.99.49-1.62s-.16-1.17-.49-1.62c-.33-.45-.76-.81-1.29-1.07-.53-.26-1.14-.39-1.83-.39-1.51 0-2.73.54-3.66 1.63-.93 1.09-1.39 2.5-1.39 4.22s.46 3.13 1.39 4.22c.93 1.09 2.15 1.63 3.66 1.63z"/></svg>
                    <span>Login with Yahoo</span>
                </button>
            </div>

            <!-- App View -->
            <div id="app-view" class="hidden space-y-4">
                 <div id="loading-leagues-state" class="flex items-center justify-center h-full">
                    <p class="text-gray-400">Loading your 2025 fantasy leagues...</p>
                </div>

                 <div id="initializing-db-state" class="hidden text-center">
                    <p class="text-yellow-400">Initializing league database, this may take a few minutes.</p>
                     <p class="text-gray-400 text-sm mt-2">Please do not close this window.</p>
                </div>

                <div id="data-state" class="hidden space-y-4">
                    <label for="leagues-dropdown" class="block text-sm font-medium text-gray-300">Select a League:</label>
                    <select id="leagues-dropdown" name="leagues" class="w-full bg-gray-700 border border-gray-600 text-white rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-2.5">
                        <!-- Options will be populated by JavaScript -->
                    </select>
                    <button id="use-league-button" class="w-full bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-4 rounded-lg transition duration-300 ease-in-out transform hover:scale-105">
                        Use This League
                    </button>
                </div>

                <div id="error-state" class="hidden text-center">
                    <p class="text-red-400">Could not load your fantasy leagues.</p>
                    <p class="text-gray-400 text-sm mt-2">Please try logging out and back in. If the problem persists, there may be an issue with the Yahoo API.</p>
                </div>
            </div>

        </main>

        <footer class="text-center mt-8">
            <button id="logout-button" class="hidden text-gray-400 hover:text-white transition duration-300 ease-in-out">
                Logout
            </button>
        </footer>

    </div>

    <!-- Custom Script -->
    <script src="script.js"></script>
</body>
</html>
