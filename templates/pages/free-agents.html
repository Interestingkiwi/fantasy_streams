<h2 class="text-xl font-bold text-white flex items-center">Free Agents
<span class="help-icon" data-title="Free Agent help" data-text="This page shows available players on Waivers, and Free Agency, updated when db is updated, with last update timestamp shown on this page. The stat table shows a ranking of how that player projects in a given stat based on percentile of the league as a whole. A 1 in a category means they project to be in the top 5% of the league in that stat, a 20 indicates they are bottom 25%. If you see a player with no values, they currently do not have projections, DB Projections will be updated throughout the year to correct missing players. The checkboxes will adjust how the final ranking is determined. Unchecking any box will reduce the impact of that stat projection in the final ranking and ordering of free agents, uncheck any box for a stat that you are not concerned with for the given week to pinpoint players that better your category needs for the week. Unused Roster Spots shows the days of the week where you have open positions. A 0* means the optimal lineup has that position full but with a flexible position player who could move to another spot, so that position may still be available.">?</span>
</h2>
<p id="available-players-timestamp-text" class="text-sm text-gray-400 mb-4"></p>

<div id="db-error-message" class="hidden bg-red-800 text-white p-4 rounded-lg mb-4">
</div>

<div id="controls-container" class="bg-gray-900 p-2 rounded-lg mb-2">
    <div class="grid grid-cols-1 lg:grid-cols-3 gap-6 items-start">

        <div class="lg:col-span-1 space-y-4">

            <div>
                <label for="player-search" class="block text-sm font-medium text-gray-300">Search Player Name:</label>
                <input type="text" id="player-search" class="mt-1 block w-full bg-gray-700 border-gray-600 text-white rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
            </div>

            <div class="flex flex-col md:flex-row md:gap-x-6">
                <div class="flex-1 mb-4 md:mb-0">
                    <label class="block text-sm font-medium text-gray-300">Filter by Position:</label>
                    <div id="position-filters-container" class="mt-2 flex flex-wrap gap-x-6 gap-y-2">
                        </div>
                </div>

                <div class="hidden md:block w-px bg-gray-600"></div>

                <div class="flex-1">
                    <label class="block text-sm font-medium text-gray-300">Filter by 'This Week' Games (Must play on ALL selected days):</label>
                    <div id="day-filters-container" class="mt-2 flex flex-wrap gap-x-6 gap-y-2">
                        </div>
                </div>
            </div>

            <div id="category-checkboxes-container">
                </div>

            <div class="text-left">
                <button id="recalculate-button" class="bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded-md">
                    Recalculate Ranks
                </button>
            </div>

        </div> <div id="simulation-controls-container" class="space-y-2">
            <h3 class="text-xl font-bold text-white">Simulate Add/Drop</h3>
            <div>
                <label for="player-drop-dropdown" class="block mb-1 text-sm font-medium text-gray-300">Player to Drop</label>
                <select id="player-drop-dropdown" class="bg-gray-700 border border-gray-600 text-white text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-1.5">
                    <option selected value="">Select player to drop...</option>
                </select>
            </div>
            <div>
                <label for="transaction-date-picker" class="block mb-1 text-sm font-medium text-gray-300">Transaction Date</label>
                <select id="transaction-date-picker" class="bg-gray-700 border border-gray-600 text-white text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-1.5">
                    <option selected value="">Select date...</option>
                </select>
            </div>
            <button id="simulate-add-drop-button" class="w-full bg-indigo-600 hover:bg-indigo-500 text-white font-bold py-1 px-4 rounded transition-colors duration-150">Simulate Add/Drop</button>
            <button id="reset-add-drops-button" class="w-full bg-red-700 hover:bg-red-600 text-white font-bold py-1 px-4 rounded transition-colors duration-150">Reset Simulations</button>
            <div id="simulated-moves-log"></div>
        </div>

        <div id="unused-roster-spots-container">
            <p class="text-gray-400">Select your team to see unused spots...</p>
        </div>

    </div>
</div>

<div class="grid grid-cols-1 lg:grid-cols-3 gap-6 lg:items-start">

    <div id="waiver-players-container" class="lg:col-span-3">
        </div>

    <div id="free-agent-players-container" class="lg:col-span-3">
        </div>

</div>

<script src="{{ url_for('static', filename='free-agents.js') }}"></script>
